function e(e,t){e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),function({popupElement:e,popupCloseElements:t,cssClassPopupShow:s,onPopupShowCallback:n}){function r(){t.forEach((e=>e.removeEventListener("click",o))),document.removeEventListener("keydown",i),e.classList.remove(s)}function i(e){"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),r())}function o(e){e.preventDefault(),r()}e.classList.add(s),document.addEventListener("keydown",i),t.forEach((e=>e.addEventListener("click",o))),"function"==typeof n&&n()}(t)}))}))}let t,s;function n(e,n){t.forEach((e=>{e.classList.remove("tabs-slider__button--active")})),s.forEach((e=>{e.classList.remove("tabs-slider__details--active"),e.classList.add("tabs-slider__details--hidden")})),e&&e.classList.add("tabs-slider__button--active"),n&&(n.classList.remove("tabs-slider__details--hidden"),n.classList.add("tabs-slider__details--active"))}function r(e){const t=e.target.closest(".tabs-slider__button");if(!t)return;e.preventDefault();const r=t.getAttribute("name");n(t,Array.from(s).find((e=>e.dataset.topic===r))),document.activeElement.blur()}function i(e,{workScreenWidthMax:t=1/0,swipeThreshold:s=.3,transitionDuration:n=.7,sliderWrapperCssClass:r="slider__wrapper",sliderListCssClass:i="slider__list",sliderItemCssClass:o="slider__item",sliderButtonsCssClass:l="slider__button",sliderMarkersCssClass:a="slider__markers-item",grabCssClass:c="grab",grabbingCssClass:d="grabbing"}){const u=e.querySelector(`.${r}`),p=e.querySelector(`.${i}`),m=e.querySelectorAll(`.${o}`),f=e.querySelectorAll(`.${l}`),v=f[0],h=f[1],L=e.querySelectorAll(`.${a}`);let b=0,_=0,E=0,y=0,g=0,S=0,$=0,C=!1,w=!1,k=!0,q=!0,x=0,A=0;const M=/([-0-9.]+(?=px))/;let D,P,T;function W(){D=m[0].offsetWidth,P=D*s,T=(m.length-1)*D}function H(){return document.documentElement.clientWidth>t}function X(e=0){L.forEach((e=>{e.classList.remove(`${a}--current`)})),L[e].classList.add(`${a}--current`)}function Y(e){return-1!==e.type.search("touch")?e.touches[0]:e}function j(){W(),X(b),q&&(p.style.transition=`transform ${n}s ease-out`),p.style.transform=`translate3d(-${b*D}px, 0px, 0px)`,v.classList.toggle(`${l}--disabled`,0===b),v.toggleAttribute("disabled",0===b),h.classList.toggle(`${l}--disabled`,b===m.length-1),h.toggleAttribute("disabled",b===m.length-1)}function B(e){if(W(),H())return;const t=Y(e);k&&(q=!0,x=(b+1)*-D,A=(b-1)*-D,g=t.clientY,E=t.clientX,_=E,p.style.transition="",document.addEventListener("touchmove",z),document.addEventListener("touchend",I),document.addEventListener("mousemove",z),document.addEventListener("mouseup",I),u.classList.remove(`${c}`),u.classList.add(`${d}`))}function z(e){const t=Y(e),s=+p.style.transform.match(M)[0];if(y=E-t.clientX,E=t.clientX,S=g-t.clientY,g=t.clientY,!C&&!w){Math.abs(S)>11||0===y?(w=!0,k=!1):C=!0}if(C){if(0===b&&E>_)return void O(s,0);if(b===m.length-1&&E<_)return void O(s,T);if(k=!0,_>E&&s<x||_<E&&s>A)return q=!1,I(),void(k=!0);p.style.transform=`translate3d(${s-y}px, 0px, 0px)`}}function I(){W(),$=Math.abs(_-E),w=!1,C=!1,document.removeEventListener("touchmove",z),document.removeEventListener("mousemove",z),document.removeEventListener("touchend",I),document.removeEventListener("mouseup",I),u.classList.add("grab"),u.classList.remove("grabbing"),k?($>P&&(E>_?b-=1:E<_&&(b+=1)),E!==_?(k=!1,j()):k=!0):k=!0}function O(e,t){e>=t&&(p.style.transform=`translate3d(${t}px, 0px, 0px)`),k=!1}function R(e){const t=e.target.closest("button");if(t.classList.contains(`${l}-next`))b+=1;else{if(!t.classList.contains(`${l}-prev`))return;b-=1}j()}X(),p.style.transform="translate3d(0px, 0px, 0px)",u.classList.add("grab"),p.addEventListener("transitionend",(()=>{k=!0})),u.addEventListener("touchstart",B),u.addEventListener("mousedown",B),v.addEventListener("click",R),h.addEventListener("click",R),window.addEventListener("resize",(()=>{H()&&(b=0,j())}))}const o=document.querySelector(".tabs-slider"),l=document.querySelector(".popup-callback"),a=document.querySelector(".popup-map"),c=document.querySelector(".main__slider"),d={swipeThreshold:.2};var u;if(function(e,t){const s=document.querySelectorAll(`.${e}`);if(!s)return;function n(){s.forEach((t=>{(function(e){const{bottom:t,height:s}=e.getBoundingClientRect();return t-s<window.innerHeight})(t)&&(t.classList.remove(`${e}--hidden`),t.classList.add(`${e}--shown`))}))}let r=!1;s.forEach((t=>{t.classList.add(`${e}--hidden`)})),window.addEventListener("scroll",(function(){r||(r=!0,setTimeout((()=>{n(),r=!1}),t))})),document.addEventListener("DOMContentLoaded",n)}("animated-appearance",250),(u=o)&&(t=u.querySelectorAll(".tabs-slider__button"),s=u.querySelectorAll(".tabs-slider__details"),n(u.querySelector(".tabs-slider__button--active"),u.querySelector(".tabs-slider__details--active")),u.addEventListener("click",r)),l){const t=document.querySelectorAll(".callback-button"),s=l.querySelector(".popup-close"),n=l.querySelector(".popup__underlay"),r=l.querySelector("#callback-form__message");e(t,{popupElement:l,popupCloseElements:[s,n],cssClassPopupShow:"popup--show",onPopupShowCallback:()=>r.focus()})}if(a){e(document.querySelectorAll(".map-button"),{popupElement:a,popupCloseElements:[document.querySelector(".popup-map .popup-close")],cssClassPopupShow:"popup--show"})}c&&async function(e,t){const s=await fetch(e,t);if(s.ok){return await s.json()}throw new Error(`${s.status} ${s.statusText}`)}("../slider/sliderData.json").then((e=>{d.sliderListString=function(e){let t="";return e.forEach((e=>{t+=`\n    <li class="slider__item">\n      <img src="${e.src}" width="967" height="628" alt="${e.alt}">\n    </li>\n    `})),t}(e),d.sliderPinsString=function(e){const t=e>0?e:0;let s="";for(let e=0;e<t;e+=1)s+=`\n    <li class="slider__markers-item">\n      <button class="slider__marker" type="button" name="Slide-${e+1}"><span class="visuallyhidden">Слайд номер ${e+1}</span></button>\n    </li>\n    `;return s}(e.length),function(e,{sliderListCssClass:t="slider__list",sliderListString:s}){e.querySelector(`.${t}`).innerHTML=s}(c,d),function(e,{sliderMarkersListCssClass:t="slider__markers-list",sliderPinsString:s}){e.querySelector(`.${t}`).innerHTML=s}(c,d),i(c,d)}));
//# sourceMappingURL=contacts.761c473b.js.map
